#!/bin/bash
set -e

echo "ðŸ”§ Activating virtual environment..."
source venv/bin/activate

echo "ðŸ§ª Running tests with Pytest..."
# Suppress LibreSSL warnings during Jenkins execution
PYTHONWARNINGS="ignore::urllib3.exceptions.NotOpenSSLWarning" pytest --alluredir=allure-results

echo "ðŸ“Š Generating Allure report..."
allure generate allure-results -c -o allure-report
echo "âœ… Allure report generated successfully at: allure-report"